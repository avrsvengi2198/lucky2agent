<div class="navbar">
    <div class="navbar-left">
        <div class="nav-left-icon">
            <a routerLink="/home"><i class="fas fa-arrow-left"></i></a>
        </div>

        <div class="page-title">
            <h5>Add Ticket</h5>
        </div>
    </div>

    <div class="navbar-right">
        <div class="nav-right-icon">
            <i class="fas fa-ticket-alt"></i>
        </div>
    </div>
</div>

<div class="page-class">
    <div class="profile-page">
        <div class="profile-form">
            <form (submit)="createTicket()">
                <mat-form-field>
                    <mat-label>Select Lottery</mat-label>
                    <mat-select  (selectionChange)="getParticlot()" name="lottery_id" [(ngModel)]="details.lottery_id"  required >
                      <div *ngFor="let lott of Lottery">
                        <mat-option value="{{lott.id}}" >{{lott.lottery_name}}</mat-option>
                      </div>
                    </mat-select>
                  </mat-form-field>

                <mat-form-field>
                    <mat-label>User Mobile</mat-label>
                    <input matInput name="user" [(ngModel)]="details.user" type="text" (change)="getName()" required >
                  </mat-form-field>

                  <mat-form-field>
                    <mat-label>Name</mat-label>
                    <input matInput name="uname" [(ngModel)]="details.uname" type="text"  readonly >
                  </mat-form-field>

                  <mat-form-field>
                    <mat-label>No.of Tickets</mat-label>
                    <input matInput id="tCount" name="ticket_count" [(ngModel)]="details.ticket_count" type="text" (change)="checkMaxcount()"  required >
                  </mat-form-field>

                  <mat-form-field>
                    <mat-label>Select Type</mat-label>
                    <mat-select name="type" id="stype" [(ngModel)]="details.type" (selectionChange)="showTicket()" required >
                        <mat-option value="Random">Random Creation</mat-option>
                        <mat-option value="Manual">Manual Creation</mat-option>
                    </mat-select>
                  </mat-form-field>

                <button type="submit" class="btn-style" ><i class="fa fa-check"></i>Submit</button>
                
            </form>
        </div>
    </div>
</div>

<div class="cm-bottom-sheet ticket-dts-sheet" [ngClass]="status ? 'open-checker' : 'close-checker'">
    <div class="close-space" (click)="closePopup();"></div>                
    <div class="popup">
        <button class="close-bar" (click)="closePopup();"></button>
         <div class="cm-sheet-content">
            <h4><i class="fas fa-ticket-alt"></i>Ticket Count : {{details.ticket_count}} </h4>
            
            <ul>
                <li *ngFor="let tick of Ticket">
                    <div>
                        <h4>{{tick}}</h4>
                    </div>
                </li>
            </ul>

         </div>
    </div>
</div>